{% extends 'layouts/base.html.twig' %}

{% block body %}
    <div class="col-lg-12" id="questionnaire" data-id="{{ questionnaire.id }}">
        <div class="bs-docs-section">
            <div class="row">
                <div class="col-md-12">
                    <h1 class="questionnaire-name">Editing "{{ questionnaire.name }}"</h1>
                    <hr>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                    <h3>Questionnaire details</h3>
                </div>
                <div class="col-md-12">
                    <div class="well">
                        <div class="row details">
                            <div class="col-md-4">
                                <label>Questionnaire name</label>
                                <input type="text" value="{{ questionnaire.name }}" placeholder="Enter you questionnaire name" class="form-control name">
                            </div>
                            <div class="col-md-4">
                                <label>Valid until</label>
                                <input type="text" value="{{ questionnaire.expires|date }}" placeholder="When your questionnaire expires" class="form-control expires">
                            </div>
                            <div class="col-md-4">
                                <label>Actions</label>
                                <div>
                                    <button id="save-questionnaire" class="btn btn-success">Save changes</button>
                                    {% if questionnaire.visible %}
                                        <button data-action="hide" class="btn btn-warning questionnaire-visibility">Hide questionnaire</button>
                                    {% else %}
                                        <button data-action="show" class="btn btn-primary questionnaire-visibility">Publish questionnaire</button>
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                    <div id="questions">
                        {% include 'questionnaires/questions.html.twig' with {'questionnaire': questionnaire} %}
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block javascript %}
    <script type="application/javascript" src="{{ asset('bundles/site/js/questionnaires/creation.js') }}"></script>
{% endblock %}